!function(t){"use strict";function n(n,e){this.element=n,this.$element=t(n),this.settings=t.extend({},s,e),this._defaults=s,this._name=i,this.input="",this.init()}var i="konami",s={pattern:[38,38,40,40,37,39,37,39,66,65].join(""),once:!0,hasFiredMatch:!1,methodList:["onInit","onPatternMatch"],onInit:null,onPatternMatch:null};t.extend(n.prototype,{init:function(){this.fnExists("onPatternMatch")||(this.settings.onPatternMatch=this.emitMatchEvent.bind(this)),this.$element.on("keydown",this.listen.bind(this)),this.fnExists("onInit")&&this.settings.onInit(this)},isPatternMatch:function(){return this.settings.pattern===this.input},resetInvalidInput:function(){-1===this.settings.pattern.search(this.input)&&(this.input="")},isMatchAllowed:function(){return!this.settings.once||this.settings.once&&!this.settings.hasFiredMatch},fnExists:function(t){return this.settings.hasOwnProperty(t)&&"function"==typeof this.settings[t]},emitMatchEvent:function(){this.$element.trigger("konami.match",this)},listen:function(t){this.input+=t.keyCode,this.isPatternMatch()&&this.isMatchAllowed()&&this.fnExists("onPatternMatch")&&(this.settings.onPatternMatch(this),this.hasFiredMatch=!0),this.resetInvalidInput()}}),t.fn[i]=function(s){return this.each(function(){t.data(this,"plugin_"+i)||t.data(this,"plugin_"+i,new n(this,s))})}}(jQuery);